<h2 class="contact__title">Entre em contato</h2>

<!--Formulário de contato-->
<!--Vamos fazer o property binding com a prorpriedade "formContato". Vamos ainda fazer um "event binding" com a diretiva ngSubmit que executará a função "enviarFormulário" quando o botão "enviar" for clicado -->
<section class="contact__container" [formGroup]="formContato" (ngSubmit)="enviarFormulario()">
    <form class="contact-form">
        <!--TEnho que dizer para cada um dos campos do nosso formulário, qual que é o campo do "formContato" que ele está atendendo. Por exemplo, no campo a seguir, nós vamos ddizer que esse input se refere ao nome. Faremos isso utilizando o "formControlName". Nós podemos, ainda, acrescentar alguams classes no nosso elemento para que, qwuando o nosso formulário for válido, nós transformemos a borda daqueel meu input em verde, ao passo que, se o formulário estiver inválido E estiver sido tocado pelo usuário OU tiver sido digitado algo pelo usuário, a borda do input ficará vermelha  -->
        <!--Validação do campo "nome"-->
        <input type="text" placeholder="Informe o seu nome" formControlName="nome"
            [class.valid]="formContato.controls['nome'].valid"
            [class.invalid]="formContato.controls['nome'].invalid && (formContato.controls['nome'].touched || formContato.controls['nome'].dirty)" />
        <!--Vamos acrtescentar uma div para exibir uma mensagem para o usuário, caso ele não atinja os padrões de validações configurados por nós. Nós vamos utilizar a diretiva "*ngIf" para informar quando que essa mensagem aparecerá para o usuário. No nosso caso, só queremos que essa div apareça quando os dados digitados pelo usuário no campo "nome" estiverem inválidos-->
        <div *ngIf="formContato.controls['nome'].invalid && (formContato.controls['nome'].touched || formContato.controls['nome'].dirty)">
            <!--Vamos configurar um texto a ser exibido em tamanho pequeno. Com a diretiva "*ngIf" vamos determinar que esse texto pequeno só aparecerá se o usuário não tiver digitado a quantidade de caracteres mínimos que estipulamos para o campo 'nome'-->
            <small class="error-message" *ngIf="formContato.controls['nome'].hasError('minlength')">
                Esse campo precisa de, no mínimo, 4 caracteres.
            </small>
            <!--Vamos configurar um texto a ser exibido em tamanho pequeno. Com a diretiva "*ngIf" vamos determinar que esse texto pequeno só aparecerá se o usuário não tiver digitado nada no campo 'nome'-->
            <small class="error-message" *ngIf="formContato.controls['nome'].hasError('required')">
                Esse campo precisa ser preenchido.
            </small>
        </div>

        <!--Validação do campo "assunto"-->
        <input type="assunto" placeholder="Digite o assunto" formControlName="assunto"
        [class.valid]="formContato.controls['assunto'].valid"
        [class.invalid]="formContato.controls['assunto'].invalid && (formContato.controls['assunto'].touched || formContato.controls['assunto'].dirty)" />

        <div *ngIf="formContato.controls['assunto'].invalid && (formContato.controls['assunto'].touched || formContato.controls['assunto'].dirty)">
            <small class="error-message" *ngIf="formContato.controls['assunto'].hasError('minlength')">
                Esse campo precisa de, no mínimo, 10 caracteres.
            </small>
            <small class="error-message" *ngIf="formContato.controls['assunto'].hasError('required')">
                Esse campo precisa ser preenchido.
            </small>
        </div>

        <!--Validação do campo "telefone"-->
        <!--Vamos ainda inserir uma máscara de visualização para que, quando o usuário digite, ele veja os números aparecendo no formato de telefone-->
        <input type="tel" placeholder="(00) 0 0000-0000" formControlName="telefone" mask="(00) 0 0000-0000"
        [class.valid]="formContato.controls['telefone'].valid"
        [class.invalid]="formContato.controls['telefone'].invalid && (formContato.controls['telefone'].touched || formContato.controls['telefone'].dirty)"/>

        <div *ngIf="formContato.controls['telefone'].invalid && (formContato.controls['telefone'].touched || formContato.controls['telefone'].dirty)">
            <small class="error-message" *ngIf="formContato.controls['telefone'].hasError('minlength')">
                Esse campo precisa de, no mínimo, 11 caracteres.
            </small>
            <small class="error-message" *ngIf="formContato.controls['telefone'].hasError('required')">
                Esse campo precisa ser preenchido.
            </small>
        </div>

        <!--Validação do campo "email"-->
        <input type="email" placeholder="Digite o seu email" formControlName="email"
        [class.valid]="formContato.controls['email'].valid"
        [class.invalid]="formContato.controls['email'].invalid && (formContato.controls['email'].touched || formContato.controls['email'].dirty)"/>

        <div *ngIf="formContato.controls['email'].invalid && (formContato.controls['email'].touched || formContato.controls['email'].dirty)">
            <small class="error-message" *ngIf="formContato.controls['email'].hasError('email')">
                Esse campo precisa ser um e-mail válido.
            </small>
            <small class="error-message" *ngIf="formContato.controls['email'].hasError('required')">
                Esse campo precisa ser preenchido.
            </small>
        </div>

        <!--Validação do campo "mensagem"-->
        <textarea maxlength="300" placeholder="Digite a sua mensagem..." rows="4" formControlName="mensagem"
        [class.valid]="formContato.controls['mensagem'].valid"
        [class.invalid]="formContato.controls['mensagem'].invalid && (formContato.controls['mensagem'].touched || formContato.controls['mensagem'].dirty)"></textarea>
        
        <div *ngIf="formContato.controls['mensagem'].invalid && (formContato.controls['mensagem'].touched || formContato.controls['mensagem'].dirty)">
            <small class="error-message" *ngIf="formContato.controls['mensagem'].hasError('minlength')">
                Esse campo precisa de, no mínimo, 20 caracteres.
            </small>
            <small class="error-message" *ngIf="formContato.controls['mensagem'].hasError('required')">
                Esse campo precisa ser preenchido.
            </small>
        </div>

        <!--Vamos configurar nosso botão para que ele só possa ser clicado quando todos os campos do formulário estiverem preenchidos de maneira válida-->
        <!--Validação de todo o formulário para envio-->
        <button [disabled]="formContato.invalid" type="submit">Enviar</button>
    </form>

    <!--A tag "address" serve para colocar informações de endereço etc -->
    <!--Localização da Proway-->
    <address>
        <iframe
            src="https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d14230.300361031368!2d-49.0703074!3d-26.9169772!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0xa5ec9dd8406a6a7!2sProWay!5e0!3m2!1spt-BR!2sbr!4v1658947018317!5m2!1spt-BR!2sbr"
            width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy"
            referrerpolicy="no-referrer-when-downgrade"></iframe>
        <p>R. 7 de Setembro, 1600 - 14º andar - Centro, Blumenau - SC, 89010-204</p>
    </address>
</section>